{{define "content"}}
<div class="container mt-4">
  <h2>{{ .Config.Question }}</h2>
  <p>Workflow ID: <code>{{ .WorkflowID }}</code></p>

  <div
    id="poll-results"
    hx-get="/poll/{{ .WorkflowID }}/results"
    hx-trigger="every 5s, load"
    hx-swap="innerHTML"
  >
    {{template "poll-results" .}}
  </div>

  <hr />

  <h4>Cast Your Vote</h4>
  <form
    hx-post="/poll/{{ .WorkflowID }}/vote"
    hx-target="#poll-results"
    hx-swap="innerHTML"
  >
    <div class="form-group">
      <label for="user_id">Your Name / ID</label>
      <input
        type="text"
        id="user_id"
        name="user_id"
        class="form-control"
        required
      />
    </div>
    <div class="form-group">
      <label for="option">Select an Option</label>
      <select id="option" name="option" class="form-control" required>
        {{range .Options}}
        <option value="{{.}}">{{.}}</option>
        {{end}}
      </select>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Vote</button>
  </form>
</div>
{{end}}
